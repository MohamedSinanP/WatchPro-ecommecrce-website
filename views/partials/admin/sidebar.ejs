<!-- Add Bootstrap & Bootstrap Icons CDN in <head> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

<!-- Custom CSS for Active State -->
<style>
  .sidebar-nav .nav-link {
    transition: all 0.3s ease;
  }

  .sidebar-nav .nav-link.active {
    background-color: #ffffff33;
    /* Light transparent background for active link */
    color: #fff !important;
    /* White text for active link */
    border-radius: 5px;
    /* Rounded corners */
  }

  .sidebar-nav .nav-link:hover {
    background-color: #ffffff1a;
    /* Subtle hover effect */
    border-radius: 5px;
  }
</style>

<!-- Sidebar -->
<aside class="bg-dark text-white p-3 vh-100" style="width: 250px;">
  <h4 class="text-center mb-4">Admin Panel</h4>
  <nav class="nav flex-column sidebar-nav">
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/dashboard">
      <i class="bi bi-speedometer2"></i> Dashboard
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/users">
      <i class="bi bi-people"></i> Users
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/products">
      <i class="bi bi-box-seam"></i> Products
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/categories">
      <i class="bi bi-list-ul"></i> Categories
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/Inventory">
      <i class="bi bi-archive"></i> Inventory
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/orders">
      <i class="bi bi-cart4"></i> Orders
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/coupons">
      <i class="bi bi-ticket-perforated"></i> Coupons
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/offers">
      <i class="bi bi-gift"></i> Offers
    </a>
    <a class="nav-link text-white d-flex align-items-center gap-2" href="/admin/salesReport">
      <i class="bi bi-bar-chart-line"></i> Sales Report
    </a>

    <!-- Logout -->
    <form id="logoutForm" action="/admin/logout" method="POST" class="mt-3">
      <button type="submit" class="btn btn-outline-light w-100 d-flex align-items-center justify-content-center gap-2">
        <i class="bi bi-box-arrow-right"></i> Logout
      </button>
    </form>
  </nav>
</aside>

<!-- Add Bootstrap JS and Custom JavaScript at the end of <body> -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // JavaScript to set active class based on current URL
  document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.sidebar-nav .nav-link');
    const currentPath = window.location.pathname;

    navLinks.forEach(link => {
      // Remove trailing slash for consistent comparison
      const linkPath = link.getAttribute('href').replace(/\/$/, '');
      const currentPathClean = currentPath.replace(/\/$/, '');

      // Add 'active' class if the link's href matches the current URL
      if (linkPath === currentPathClean) {
        link.classList.add('active');
      } else {
        link.classList.remove('active');
      }
    });
  });
</script>